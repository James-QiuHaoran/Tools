## GB200

### Check IMEX

```
sudo vim /etc/nvidia-imex/nodes_config.cfg
sudo systemctl stop nvidia-imex
sudo systemctl start nvidia-imex
sudo systemctl status nvidia-imex
grep nvidia-caps-imex-channels /proc/devices
nvidia-imex-ctl -N
```

### nvbandwidth

```
sudo apt update
sudo apt install openmpi-bin libopenmpi-dev
git clone https://github.com/NVIDIA/nvbandwidth.git
cd nvbandwidth/
cmake -DMULTINODE=1 .
make
```

Run cross-node test:

```
mpirun --allow-run-as-root --map-by ppr:4:node --bind-to core -np 8 --report-bindings -mca btl_tcp_if_include eth0 --hostfile /etc/nvidia-imex/nodes_config.cfg ./nvbandwidth -t multinode_device_to_device_memcpy_read_ce
mpirun --allow-run-as-root --map-by ppr:4:node --bind-to core -np 8 --report-bindings -mca btl_tcp_if_include eth0 --hostfile /etc/nvidia-imex/nodes_config.cfg ./nvbandwidth -t multinode_device_to_device_memcpy_write_ce
```

Reference:

- https://docs.crusoecloud.com/networking/nv-link/imex-setup/index.html#setting-up-and-validating-imex
